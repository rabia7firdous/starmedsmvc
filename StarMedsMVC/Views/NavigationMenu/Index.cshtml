@model  List<Category>
<div class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <ul class="nav navbar-nav">
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Health Store<b class="caret"></b></a>
                <ul class="dropdown-menu">
                    @foreach (var category in Model)
                    {                       
                        <li>@Html.ActionLink(category.CategoryName, "Details", "Categories", new { id = category.CategoryId }, null)</li>
                        <ul>
                            @foreach (var subcat in category.SubCategories)
                            {
                                <li><a href="#">@subcat.SubCatName</a></li>
                                <ul>
                                    @foreach (var subclass in subcat.SubClassifications)
                                    {
                                        <li><a href="#">@subclass.SubClassificationName</a></li>
                                    }
                                </ul>
                            }
                        </ul>
                    }
                </ul>
            </li>
        </ul>

        <div class="navbar-header">
            <img src="~/Images/starmeds.png" width="50" height="50" alt="StarMeds">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            @Html.ActionLink("StarMeds", "Index", "Home", new { area = "" }, new { @class = "navbar-brand" })

        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li>@Html.ActionLink("Home", "Index", "Home")</li>
                <li>@Html.ActionLink("About", "About", "Home")</li>
                <li>@Html.ActionLink("Contact", "Contact", "Home")</li>
            </ul>

            @if (HttpContext.Current.Session["Username"] == null)
            {
                <ul class="nav navbar-nav navbar-right">
                    <li>@Html.ActionLink("Login", "Login", "Login")</li>
                </ul>
            }
            else
            {
                <ul class="nav navbar-nav navbar-right">
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Welcome @HttpContext.Current.Session["CustomerName"].ToString()<b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="#">My Account</a></li>
                            <li class="divider"></li>
                            <li>@Html.ActionLink("Logout", "LogOut", "LogOut")</li>
                        </ul>
                    </li>
                </ul>
            }
        </div>
    </div>
</div>
<script>
    $('ul.nav li.dropdown').hover(function () {
        $(this).find('.dropdown-menu').stop(true, true).delay(200).fadeIn(500);
    }, function () {
        $(this).find('.dropdown-menu').stop(true, true).delay(200).fadeOut(500);
    });
</script>
